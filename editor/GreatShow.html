<!DOCTYPE html>
<html>
  <head>
    <title>Next Up</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="css/greatShow.css">

    <script>
      window.onload = getData();

      function getData(){
        $.ajax({
          dataType: "json",
          url: "###########",
          data:null,
          success: jsonLoaded
        });
      }

      function jsonLoaded(){
        // if there's an error, print a message and return
        if(obj.error){
          var status = obj.status;
          var description = obj.description;
          document.querySelector("#dynamicContent").innerHTML = "<h3><b>Error!</b></h3>" + "<p><i>" + status + "</i></p>" + "<p><i>" + description + "</i></p>";
          return; // Bail out
        }

        // if there are no results, print a message and return
        if(obj.total_items == 0){
          var status = "No results found";
          document.querySelector("#dynamicContent").innerHTML = "<p>" + status + "</p>";
          return; // Bail out
        }

        // TO DO
        // if there is only one result, Eventful returns an object instead of an array
        // create an array with the single object

        // If there is an array of results, loop through them
        var allPicture = obj.picture;
        console.log("allPeople.length = " + allPicture.length);
        var bigString = "<p><b>There are " + allPicture.length + " people for Next Up flex-items </b></p>";
        bigString += "<hr />";

        // loop through events here
        for (var i = 0; i <allPicture.length; i++){
          var picture = allPicture[i];
          var flexItemNumber = "flex-item" + i;
          //create flex-items
          if (person.name !=null){
            bigString += "<div id='" + flex-item +  "'>";
              bigString += "<lable>"
                bigString += "<input type="radio" name="picture" value ='"+ i + "' />";
                bigString += "<img src=" + picture.image + " alt=" + picture.name + " />";
              bigString += "<lable>"
            bigString += "</div>";
          }
        }

        document.querySelector("#dynamicContent").innerHTML = bigString;

      }
    </script>

  </head>
  <body>
    <h1>Great Show</h1>
    <p>Chose one stage debut picture</p>
    <div id=#parent>
      <div class = "container">
        <div id="flex-item0">
          <label>
            <input type="radio" name="picture" value = "0" />
            <img src="images/ladyGaga.jpg" alt="myimage" />
          </label>
        </div>
        <div id="flex-item1">
          <label>
            <input type="radio" name="picture" value = "0" />
            <img src="images/ladyGaga.jpg" alt="myimage" />
          </label>
        </div>
        <div id="flex-item2">
          <label>
            <input type="radio" name="picture" value = "0" />
            <img src="images/ladyGaga.jpg" alt="myimage" />
          </label>
        </div>
        <div id="dynamicContent"></div>
      </div>
    </div>
    <button id="back" type="button">Back</button>
    <button id="edit" type="button">Edit</button>
  </body>
</html>
